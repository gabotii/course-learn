<%- include('../partials/head', { title: title }) %>
<body>
  <div id="wrapper">
    <main>
      <h1><%= title %></h1>
      <div class="flash-messages">
        <%- messages() %>
      </div>
      <% if (errors) { %>
        <ul class="notice">
          <% errors.forEach(error => { %>
            <li><%= error.msg %></li>
          <% }) %>
        </ul>
      <% } %>
      <form action="/inv/add-inventory" method="POST" id="addInventoryForm" class="form-container">
        <div class="form-group">
          <label for="classificationList">Classification:</label>
          <%- classificationList %>
        </div>
        <div class="form-group">
          <label for="invMake">Make:</label>
          <input
            type="text"
            name="inv_make"
            id="invMake"
            required
            pattern="[A-Za-z0-9 ]+"
            title="Make can only contain letters, numbers, and spaces"
            value="<%= formData.inv_make || '' %>"
          >
        </div>
        <div class="form-group">
          <label for="invModel">Model:</label>
          <input
            type="text"
            name="inv_model"
            id="invModel"
            required
            pattern="[A-Za-z0-9 ]+"
            title="Model can only contain letters, numbers, and spaces"
            value="<%= formData.inv_model || '' %>"
          >
        </div>
        <div class="form-group">
          <label for="invYear">Year:</label>
          <input
            type="number"
            name="inv_year"
            id="invYear"
            required
            min="1900"
            max="2026"
            value="<%= formData.inv_year || '' %>"
          >
        </div>
        <div class="form-group">
          <label for="invDescription">Description:</label>
          <textarea
            name="inv_description"
            id="invDescription"
            required
          ><%= formData.inv_description || '' %></textarea>
        </div>
        <div class="form-group">
          <label for="invImage">Image Path:</label>
          <input
            type="text"
            name="inv_image"
            id="invImage"
            required
            pattern="^/images/vehicles/.*\.jpg$"
            title="Image path must be a valid JPG path (e.g., /images/vehicles/car.jpg)"
            value="<%= formData.inv_image || '/images/vehicles/no-image.jpg' %>"
          >
        </div>
        <div class="form-group">
          <label for="invThumbnail">Thumbnail Path:</label>
          <input
            type="text"
            name="inv_thumbnail"
            id="invThumbnail"
            required
            pattern="^/images/vehicles/.*\.jpg$"
            title="Thumbnail path must be a valid JPG path"
            value="<%= formData.inv_thumbnail || '/images/vehicles/no-image-tn.jpg' %>"
          >
        </div>
        <div class="form-group">
          <label for="invPrice">Price:</label>
          <input
            type="number"
            name="inv_price"
            id="invPrice"
            required
            min="0"
            step="0.01"
            value="<%= formData.inv_price || '' %>"
          >
        </div>
        <div class="form-group">
          <label for="invMiles">Miles:</label>
          <input
            type="number"
            name="inv_miles"
            id="invMiles"
            required
            min="0"
            value="<%= formData.inv_miles || '' %>"
          >
        </div>
        <div class="form-group">
          <label for="invColor">Color:</label>
          <input
            type="text"
            name="inv_color"
            id="invColor"
            required
            pattern="[A-Za-z ]+"
            title="Color can only contain letters and spaces"
            value="<%= formData.inv_color || '' %>"
          >
        </div>
        <button type="submit">Add Inventory Item</button>
      </form>
    </main>
  </div>
  <script src="/js/formValidation.js"></script>
</body>
</html>